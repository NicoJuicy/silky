{
    "$schema": "http://json.schemastore.org/template",
    "author": "Liuhll",
    "classifications": [
        "Silky",
        "MicroService",
        "Host",
        "App"
      ],
      "name": "Silky App",
      "identity": "Silky.App.Template",
      "groupIdentity": "Silky.App.Template",
      "shortName": "silky.app",
      "tags": {
        "language": "C#",
        "type": "project"
      },
      "sourceName": "SilkyApp",
      "preferNameDirectory": true,
      "symbols": {
        "dockersupport": {
         "type": "parameter",
         "datatype": "bool",
         "defaultValue": "true",
         "isRequired": false,
        "description": "Add docker support for Silky"
       },
       "infrastr": {
        "type": "parameter",
        "datatype": "bool",
        "defaultValue": "false",
        "isRequired": false,
       "description": "Whether to include basic service orchestration files"
      },
      "sln": {
        "type": "parameter",
        "datatype": "bool",
        "defaultValue": "true",
        "isRequired": false,
        "description": "Whether to include the solution file"
      },
      "env": {
        "type": "parameter",
        "datatype": "string",
        "defaultValue": "Development",
        "replaces": "dotnetenv",
        "isRequired": false,
        "description": "Set dotnet env"
      },
      "new": {
        "type": "parameter",
        "datatype": "bool",
        "defaultValue": "true",
        "isRequired": false,
        "description": "Is New Project"
      },
      "type": {
        "type": "parameter",
        "datatype": "string",
        "defaultValue": "generalhost",
        "isRequired": false,
        "description": "Set the silky host type, optional values: webhost, generalhost ,wshost, gateway"
      }
    },
    "sources": [
      {
        "modifiers": [
          {
            "condition": "(env!=Apollo)",
            "exclude": [
              "src/SilkyAppHost/appsettings.Apollo.yml",
              "src/SilkyApp.GatewayHost/appsettings.Apollo.yml"
            ]
          },
          {
            "condition": "(env==Apollo)",
            "exclude": [
              "src/SilkyAppHost/appsettings.Development.yml",
              "src/SilkyAppHost/appsettings.Production.yml",
              "src/SilkyAppHost/appsettings.ContainerDev.yml",
              "src/SilkyApp.GatewayHost/appsettings.Development.yml",
              "src/SilkyApp.GatewayHost/appsettings.Production.yml",
              "src/SilkyApp.GatewayHost/appsettings.ContainerDev.yml"
            ]
          },
          {
            "condition": "!(infrastr)",
            "exclude": [
              "infrastr/**"
            ]
          },
          {
            "condition": "!(dockersupport)",
            "exclude": [
              "SilkyApp.DockerCompose.sln",
              "docker-compose.yml",
              "docker-compose.dcproj"
            ]
          },
          {
            "condition": "!(sln)",
            "exclude": [
              "SilkyApp.DockerCompose.sln",
              "SilkyApp.sln",
              "Gateway.sln",
              "Gateway.DockerCompose.sln"
            ]
          },
          {
            "condition": "!(new)",
            "exclude": [
              ".dockerignore",
              ".gitignore",
              "common.props",
              ".DS_Store"
            ]
          },
          {
            "condition": "(type==gateway)",
            "exclude": [
              "src/SilkyApp.Application/**",
              "src/SilkyApp.Application.Contracts/**",
              "src/SilkyApp.Database.Migrations/**",
              "src/SilkyApp.Domain/**",
              "src/SilkyApp.Domain.Shared/**",
              "src/SilkyApp.EntityFrameworkCore/**",
              "SilkyApp.DockerCompose.sln",
              "SilkyApp.sln"
            ]
          },
          {
            "condition": "(type!=gateway)",
            "exclude": [
              "src/SilkyApp.GatewayHost/**",
              "Gateway.sln",
              "Gateway.DockerCompose.sln"
            ]
          },{
            "condition": "(type==generalhost || type==websockethost)",
            "exclude": [
              "src/SilkyAppHost/Startup.cs"
            ]
          }
        ]
      }
    ]
}